<section class="shopping-cart spad">
  <div class="container">
    <div class="row">
      <div class="col-lg-12">
        <div class="shopping__cart__table">
          <table>
            <thead>
              <tr>
                <th>Sản phẩm</th>
                <th style="width: 95px">Số lượng</th>
                <th>Tổng tiền</th>
                <th></th>
              </tr>
            </thead>
            <tbody>
              <tr *ngFor="let y of listCart">
                <td class="product__cart__item">
                  <div
                    style="max-width: 90px; max-height: 90px"
                    class="product__cart__item__pic"
                  >
                    <img src="{{ y.product.image }}" alt="" />
                  </div>

                  <div class="product__cart__item__text">
                    <h6>{{ y.product.product_Name }}</h6>
                    <span
                      >Màu sắc {{ y.product.color.color_name }} x Thể loại
                      {{ y.product.category.category_Name }}</span
                    >
                    <h5>{{ y.product.price | currency : "VND" }}</h5>
                  </div>
                </td>
                <td>
                  <div>
                    <div>
                      <input
                        type="number"
                        min="1"
                        max="100"
                        required
                        placeholder="Enter count"
                        [value]="y.count"
                        [(ngModel)]="y.count"
                        (input)="updateTotal(y)"
                      />
                      <!-- <input
                        type="number"
                        style="display: none"
                        value="{{ y.id }}"
                      />
                      <input
                        type="number"
                        formControlName="idProduct"
                        style="display: none"
                        value="{{ y.product.id }}"
                      /> -->
                    </div>
                  </div>
                </td>
                <td class="cart__price">
                  {{ y.count * y.product.price | currency : "VND" }}
                </td>
                <td>
                  <button (click)="update(y.id)">
                    <svg
                      class="w-6 h-6 text-gray-800 dark:text-white"
                      aria-hidden="true"
                      xmlns="http://www.w3.org/2000/svg"
                      fill="currentColor"
                      viewBox="0 0 20 20"
                    >
                      <path
                        d="m13.835 7.578-.005.007-7.137 7.137 2.139 2.138 7.143-7.142-2.14-2.14Zm-10.696 3.59 2.139 2.14 7.138-7.137.007-.005-2.141-2.141-7.143 7.143Zm1.433 4.261L2 12.852.051 18.684a1 1 0 0 0 1.265 1.264L7.147 18l-2.575-2.571Zm14.249-14.25a4.03 4.03 0 0 0-5.693 0L11.7 2.611 17.389 8.3l1.432-1.432a4.029 4.029 0 0 0 0-5.689Z"
                      />
                    </svg>
                  </button>
                </td>
                <td>
                  <button type="button" (click)="delete(y.id)">
                    <svg
                      class="w-[18px] h-[18px] text-gray-800 dark:text-white"
                      aria-hidden="true"
                      xmlns="http://www.w3.org/2000/svg"
                      fill="none"
                      viewBox="0 0 14 14"
                    >
                      <path
                        stroke="currentColor"
                        stroke-linecap="round"
                        stroke-linejoin="round"
                        stroke-width="2"
                        d="m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6"
                      />
                    </svg>
                  </button>
                </td>
                <!-- <form [formGroup]="cartForm" (submit)="update()">

                </form> -->
              </tr>
            </tbody>
          </table>
        </div>
      </div>
      <div class="col-lg-5"></div>
      <div class="col-lg-7">
        <div class="cart__total">
          <h6>Tổng giỏ hàng</h6>
          <ul>
            <li>
              Người Dùng <span>{{ nguoiDung }}</span>
            </li>
            <li>
              Tổng tiền
              <span>{{ totalAmount | currency : "VND" }}</span>
            </li>
          </ul>
          <a routerLink="/checkout" class="primary-btn">Thanh toán</a>
        </div>
      </div>

      <!-- <div class="col-lg-12">
        <div class="col-lg-6 col-md-6 col-sm-6">
          <div class="continue__btn">
            <a th:href="@{/ttshop/home}">Quay lại</a>
          </div>
        </div>
        <div class="col-lg-6 col-md-6 col-sm-6"></div>
      </div> -->
    </div>
  </div>
</section>
